(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c097e62e"],{"308b":function(t,a,e){"use strict";e.r(a);var n=e("7a23"),c=function(t){return Object(n["A"])("data-v-ebb11f8e"),t=t(),Object(n["y"])(),t},o={class:"row"},r={class:"col-md-6 ms-3 mt-3"},s={class:"row ms-3"},i={class:"card cardWidth"},l={class:"card-body",style:{"text-align":"center"}},u=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-door-open"})],-1)})),b={class:"card cardWidth"},d={class:"card-body",style:{"text-align":"center"}},h=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-cup-straw"})],-1)})),j={class:"modal fade",id:"modalFichajes",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},f={class:"modal-dialog",style:{"max-width":"700px"}},O={class:"modal-content"},p=c((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Fichaje"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),m={class:"modal-body"},v={class:"row"},y={class:"row mt-2"},g=c((function(){return Object(n["h"])("option",{value:"SIN_TURNO"},"Sin turno",-1)})),x=["value"],w={class:"row mt-2"},C={class:"table",style:{height:"400px"}},k={class:"table table-striped"},P=c((function(){return Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Nombre"),Object(n["h"])("th",{scope:"col"},"Fichar/Desfichar")])],-1)})),T={key:0},I=["onClick"],N={key:1},M=["onClick"],F=c((function(){return Object(n["h"])("div",{class:"modal-footer"},[Object(n["h"])("button",{type:"button",class:"btn btn-danger btn-lg","data-bs-dismiss":"modal"},"Cerrar")],-1)}));function R(t,a,e,c,R,S){return Object(n["x"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",o,[Object(n["h"])("div",r,[Object(n["h"])("div",s,[Object(n["h"])("div",i,[Object(n["h"])("div",l,[u,Object(n["h"])("a",{href:"#",class:"btn btn-primary",onClick:a[0]||(a[0]=function(t){return c.abrirModal()})},"Fichaje")])]),Object(n["h"])("div",b,[Object(n["h"])("div",d,[h,Object(n["h"])("button",{onClick:a[1]||(a[1]=function(t){return c.consumoPersonal()}),class:"btn btn-primary"},"Consumo personal")])])])])]),Object(n["h"])("div",j,[Object(n["h"])("div",f,[Object(n["h"])("div",O,[p,Object(n["h"])("div",m,[Object(n["h"])("div",v,[Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":a[2]||(a[2]=function(t){return c.inputBusqueda=t}),class:"form-control",style:{width:"350px",height:"50px","font-size":"20px"},type:"text",placeholder:"Introduce tu nombre"},null,512),[[n["N"],c.inputBusqueda]]),Object(n["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:a[3]||(a[3]=function(t){return c.buscar()})},"Buscar"),Object(n["h"])("button",{type:"button",style:{width:"200px"},class:"btn btn-warning ms-2",onClick:a[4]||(a[4]=function(t){return c.actualizarLista()})},"Actualizar lista"),Object(n["h"])("div",y,[Object(n["R"])(Object(n["h"])("select",{"onUpdate:modelValue":a[5]||(a[5]=function(t){return c.idPlanificacion=t}),class:"form-select",style:{height:"50px","font-size":"20px"}},[g,(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(c.arrayPlanes,(function(t,a){return Object(n["x"])(),Object(n["g"])("option",{key:a,value:c.arrayPlanes[a].idPlan},Object(n["I"])(c.arrayPlanes[a].turno),9,x)})),128))],512),[[n["M"],c.idPlanificacion]])]),Object(n["h"])("div",w,[Object(n["h"])("div",C,[Object(n["h"])("table",k,[P,Object(n["h"])("tbody",null,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(c.arrayTrabajadores,(function(t,a){return Object(n["x"])(),Object(n["g"])("tr",{key:a},[Object(n["h"])("td",null,Object(n["I"])(t.nombre),1),!1===t.fichado||void 0==t.fichado?(Object(n["x"])(),Object(n["g"])("td",T,[Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return c.fichar(t,a)}},"FICHAR",8,I)])):(Object(n["x"])(),Object(n["g"])("td",N,[Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-success btn_fc",onClick:function(e){return c.desfichar(t,a)}},"DESFICHAR",8,M)]))])})),128))])])])])])]),F])])])],64)}var S=e("7b17"),z=e("bc3a"),A=e.n(z),B=e("5502"),E=e("a18c"),_=e("0180"),q={name:"Dependientas",setup:function(){var t=Object(B["b"])(),a=Object(n["C"])("SIN_TURNO"),e="Santy",c=156,o=null,r=Object(n["C"])([]),s=Object(n["C"])(""),i=Object(_["b"])(),l=Object(n["C"])([]);function u(){console.log("El selected es: ",a.value)}function b(){j().then((function(){o.show()}))["catch"]((function(t){console.log(t),o.show()}))}function d(){o.hide()}function h(){A.a.post("trabajadores/buscar",{busqueda:s.value}).then((function(t){r.value=t.data}))["catch"]((function(t){console.log(t)}))}function j(){return A.a.get("turnos/getPlanes").then((function(t){0==t.data.error?l.value=t.data.info:i.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),i.error("Error frontend catch: axios turnos/getPlanes")}))}function f(t,e){A.a.post("trabajadores/fichar",{idTrabajador:t.idTrabajador,idPlan:a.value}).then((function(t){t.data.error?(console.log(t.data.mensaje),r.value[e].fichado=!1):(r.value[e].fichado=!0,j(),a.value="SIN_TURNO",d())}))["catch"]((function(t){console.log(t)}))}function O(){A.a.post("trabajadores/actualizarTrabajadores").then((function(t){0==t.data.error?i.success("Trabajadores actualizados"):i.error(t.data.mensaje)}))}function p(t,a){A.a.post("trabajadores/desfichar",{idTrabajador:t.idTrabajador}).then((function(t){t.data.error?console.log("Error al desfichar"):(console.log("Trabajador desfichado"),r.value[a].fichado=!1)}))["catch"]((function(t){console.log(t)}))}function m(){t.dispatch("setModoActual","CONSUMO PERSONAL"),t.dispatch("Footer/setMenuActivo",1),E["a"].push("/")}return Object(n["v"])((function(){o=new S["a"](document.getElementById("modalFichajes"),{keyboard:!1}),A.a.get("turnos/getPlanes").then((function(t){0==t.data.error?l.value=t.data.info:i.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),i.error("Error frontend catch: axios turnos/getPlanes")}))})),{test:u,arrayPlanes:l,idPlanificacion:a,actualizarLista:O,consumoPersonal:m,fichar:f,desfichar:p,inputBusqueda:s,arrayTrabajadores:r,buscar:h,cerrarModal:d,abrirModal:b,nombre:e,id:c}},watch:{inputBusqueda:function(){this.inputBusqueda.length>=3&&this.buscar()}}},U=(e("ad04"),e("d959")),D=e.n(U);const L=D()(q,[["render",R],["__scopeId","data-v-ebb11f8e"]]);a["default"]=L},"7b1f":function(t,a,e){},ad04:function(t,a,e){"use strict";e("7b1f")}}]);
//# sourceMappingURL=chunk-c097e62e.9dbdaeae.js.map