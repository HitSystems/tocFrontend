{"version":3,"sources":["webpack:///./src/views/Menu.vue","webpack:///./src/components/Trabajador.vue","webpack:///./src/components/Trabajador.vue?cae6","webpack:///./src/components/Cesta.vue","webpack:///./src/components/Cesta.vue?8bd5","webpack:///./src/views/Menu.vue?cc5f","webpack:///./src/views/Menu.vue?fef6"],"names":["class","style","to","pedidos","devoluciones","imprimirEntregas","arrayTrabajadores","trabajador","index","esActivo","idTrabajador","key","changeActivo","nombre","name","setup","store","trabajadorActivo","x","value","id","a","post","then","res","data","error","console","log","dispatch","toString","getFichados","info","length","infoTrabajador","err","__exports__","cestas","cesta","idMongo","state","CestasActivas","activo","Cesta","_id","router","push","props","tipoToast","required","mensajeToast","isHidden","Menu","hidden","params","tocGame","getParametros","quitarActivoTicket","hideMenu","codigoTienda","goTo","url","licencia","get","response","imprimir","valid","i","undefined","toast","type","components","Trabajador","render"],"mappings":"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","file":"js/chunk-42d4bca8.c7c7c252.js","sourcesContent":["<template>\n  <div class=\"row pt-1\">\n    <div class='col-md-1'>\n  <div class=\"d-flex flex-column align-items-stretch flex-shrink-0 bg-white\"\n  style=\"width: 140px;\">\n      <div class=\"list-group list-group-flush border-bottom scrollarea\">\n        <router-link to=\"/\" class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Vender</strong>\n          </div>\n        </router-link>\n        <router-link to=\"/menu/caja\"\n        class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Caja</strong>\n          </div>\n        </router-link>\n        <button @click=\"pedidos()\"\n        class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Pedidos</strong>\n          </div>\n        </button>\n        <router-link to=\"/menu/fichajes\"\n        class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Trabajador/a</strong>\n          </div>\n        </router-link>\n        <button @click=\"devoluciones()\"\n        class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Devoluciones</strong>\n          </div>\n        </button>\n        <button @click=\"imprimirEntregas()\"\n        class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Entregas</strong>\n          </div>\n        </button>\n        <router-link\n        to=\"/menuTecnico\"\n        class=\"list-group-item list-group-item-action py-3 lh-tight\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">Técnico</strong>\n          </div>\n        </router-link>\n        <!-- TRABAJADORES FICHADOS -->\n        <Trabajador />\n        <!-- CESTAS ACTIVAS -->\n        <Cesta />\n      </div>\n    </div>\n    </div>\n    <div class=\"col\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n<script>\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport axios from 'axios';\nimport router from '../router/index';\nimport { tocGame } from '../services/tocGame';\nimport Trabajador from '@/components/Trabajador.vue'; // @ is an alias to /src\nimport Cesta from '@/components/Cesta.vue'; // @ is an alias to /src\n\n\nexport default {\n  name: 'Menu',\n  props: {\n    tipoToast: {\n      required: false\n    },\n    mensajeToast: {\n      required: false\n    }\n  },\n  setup(props) {\n    const store = useStore();\n    const isHidden = computed(() => store.state.Menu.hidden);\n    const params = tocGame.getParametros();\n\n    if (props.tipoToast != undefined && props.mensajeToast != undefined) {\n      toast(props.mensajeToast, { type: props.tipoToast })\n      console.log('Deberían abrirse la ptm');\n    } else {\n      console.log('No están definidos. INFO TOAST');\n      console.log(props.tipoToast, props.mensajeToast);\n    }\n\n    function quitarActivoTicket() {\n      store.dispatch('Ticket/setActivoAction', null);\n    }\n\n    function hideMenu() {\n      store.dispatch('Menu/setHiddenAction', true);\n      quitarActivoTicket();\n    }\n\n    function pedidos() {\n      router.push(`/menu/pedidos/${params.codigoTienda}`);\n    }\n\n    function goTo(url) {\n      router.push(url);\n    }\n    \n    /* Establece el modo y redirige a la home */\n    function devoluciones() {\n      store.dispatch('setModoActual', 'DEVOLUCION');\n      router.push('/');\n    }\n\n    function imprimirEntregas() {\n      // const licencia = this.getNumeroTresDigitos(this.getParametros().licencia);\n      const licencia = 842;\n      axios.get(`http://dsv.hiterp.com/TpvInforma.asp?Llic=00${licencia}&Versio=6001010&Tipus=EntregasPendientes`).then((response) => {\n        const { data } = response;\n        let imprimir = '';\n        let valid = false;\n        // eslint-disable-next-line no-plusplus\n        for (let i = 0; i < data.length; i++) {\n          if (valid || (data[i - 1] === ']' && data[i - 2] === 'a')) {\n            valid = true;\n            if (data[i] === ']') break;\n            imprimir += data[i];\n          }\n        }\n        // Mandar al backend para imprimir\n        console.log(imprimir);\n      });\n      hideMenu();\n      quitarActivoTicket();\n    }\n    return {\n      pedidos,\n      devoluciones,\n      isHidden,\n      hideMenu,\n      quitarActivoTicket,\n      imprimirEntregas,\n      goTo,\n    };\n  },\n  components: {\n    Trabajador,\n    Cesta,\n  }\n};\n</script>\n<style scoped>\n.sidebar {\n  margin: 0;\n  padding: 0;\n  background-color: #f1f1f1;\n  position: fixed;\n  height: 60%;\n  overflow: scroll;\n}\n.sidebar a {\n  display: block;\n  color: black;\n  padding: 16px;\n  text-decoration: none;\n}\n.sidebar a.active {\n  background-color: #04AA6D;\n  color: white;\n}\n.sidebar a:hover:not(.active) {\n  background-color: #555;\n  color: white;\n}\n.component-content {\n  margin: 0 auto;\n  width: 65%;\n}\n.hidden {\n  display: none;\n}\n@media screen and (max-width: 700px) {\n  .sidebar {\n    width: 100%;\n    height: auto;\n    position: relative;\n  }\n  .sidebar a {float: left;}\n  div.content {margin-left: 0;}\n}\n@media screen and (max-width: 400px) {\n  .sidebar a {\n    text-align: center;\n    float: none;\n  }\n}\n</style>>\n","<template>\n    <div class='btn mb-3' v-bind:class=\"[{'btn-info': esActivo(trabajador.idTrabajador), 'btn-outline-info': !esActivo(trabajador.idTrabajador)}]\"\n    v-for='(trabajador, index) in arrayTrabajadores' :key='index'\n    @click='changeActivo(trabajador.idTrabajador)'>\n        {{trabajador.nombre}}\n    </div>\n</template>\n<script>\nimport { computed, onMounted, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport axios from 'axios';\n\nexport default {\n    name: 'Trabajador',\n    setup() {\n        const store = useStore();\n        const trabajadorActivo = ref();\n        const arrayTrabajadores = ref([]);\n        function esActivo(x) {\n            return trabajadorActivo.value === x;\n        }\n        function changeActivo(id) {\n            axios.post('trabajadores/setActivo', { id }).then((res) => {\n                if (!res.data.error) {\n                    store.dispatch('Trabajadores/setTrabajadorActivo', id);\n                    store.dispatch('Cesta/setIdAction', id.toString());\n                    getFichados();\n                } else {\n                    console.log('Error al cambiar trabajador activo');\n                }\n            });\n        }\n        function getFichados() {\n            axios.post('trabajadores/getTrabajadoresFichados').then((info) => {\n                if(!info.data.error) {\n                    if (info.data.res.length > 0) {\n                        store.dispatch('Trabajadores/setArrayTrabajadores', info.data.res);\n                        arrayTrabajadores.value = info.data.res;\n                        axios.post('trabajadores/getCurrentTrabajador').then((infoTrabajador) => {\n                        if (!infoTrabajador.data.error) {\n                            console.log(infoTrabajador.data)\n                            trabajadorActivo.value = infoTrabajador.data.trabajador.idTrabajador;\n                            store.dispatch('Trabajadores/setTrabajadorActivo', infoTrabajador.data.trabajador.idTrabajador);\n                        } else {\n                            console.log('Error en getCurrentTrabajador');\n                        }\n                        }).catch((err) => {\n                            console.log(err);\n                        });\n                    } else {\n                        // ENVIAR DIRECTAMENTE A FICHAR TRABAJADOR !!!\n                    }\n                } else {\n                    console.log('Error en getTrabajadoresFichados');\n                }\n            }).catch((err) => {\n                console.log(err);\n            });\n        }\n        onMounted(() => {\n            getFichados();\n        })\n        return {\n            arrayTrabajadores,\n            esActivo,\n            changeActivo,\n        } \n    },\n}\n</script>\n<style scoped>\n</style>\n  ","import { render } from \"./Trabajador.vue?vue&type=template&id=5b3c8824\"\nimport script from \"./Trabajador.vue?vue&type=script&lang=js\"\nexport * from \"./Trabajador.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocGame/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class='btn mb-3' v-bind:class=\"[{'btn-info': esActivo(cesta.idMongo), 'btn-outline-info': !esActivo(cesta.idMongo)}]\"\n    v-for='(cesta, index) in cestas' :key='index'\n    @click='changeActivo(cesta.idMongo)'>\n        {{cesta.nombre}}\n    </div>\n</template>\n<script>\nimport { computed, onMounted, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport axios from 'axios';\nimport router from '../router';\n\nexport default {\n    name: 'Cesta',\n    setup() {\n        const store = useStore();\n        const { cestas } = store.state.CestasActivas;\n        const activo = store.state.Cesta.cesta._id;\n        console.log(cestas)\n        function esActivo(x) {\n            console.log(activo, x)\n            return activo === x;\n        }\n        function changeActivo(id) {\n            store.dispatch('Cesta/setIdAction', id);\n            router.push('/');\n\n        }\n        return {\n            cestas,\n            esActivo,\n            changeActivo,\n        } \n    },\n}\n</script>\n<style scoped>\n</style>\n  ","import { render } from \"./Cesta.vue?vue&type=template&id=3741ebd2\"\nimport script from \"./Cesta.vue?vue&type=script&lang=js\"\nexport * from \"./Cesta.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocGame/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Menu.vue?vue&type=template&id=34beba8a&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\n\nimport \"./Menu.vue?vue&type=style&index=0&id=34beba8a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocGame/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-34beba8a\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Menu.vue?vue&type=style&index=0&id=34beba8a&scoped=true&lang=css\""],"sourceRoot":""}