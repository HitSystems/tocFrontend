(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25738e28"],{"308b":function(t,a,e){"use strict";e.r(a);var c=e("7a23"),n=function(t){return Object(c["z"])("data-v-1e2182b8"),t=t(),Object(c["x"])(),t},o={class:"col-md-6 ms-3 mt-3"},r={class:"row ms-3"},s={class:"card cardWidth"},i={class:"card-body",style:{"text-align":"center"}},l=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-door-open"})],-1)})),b={class:"card cardWidth"},d={class:"card-body",style:{"text-align":"center"}},u=n((function(){return Object(c["h"])("span",null,[Object(c["h"])("i",{class:"bi bi-cup-straw"})],-1)})),h={class:"modal fade",id:"modalFichajes",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},j={class:"modal-dialog",style:{"max-width":"700px"}},f={class:"modal-content"},O=n((function(){return Object(c["h"])("div",{class:"modal-header"},[Object(c["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Fichaje"),Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),p={class:"modal-body"},m={class:"row"},y={class:"row mt-2"},v={class:"table",style:{height:"400px"}},w={class:"table table-striped"},g=n((function(){return Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",{scope:"col"},"Nombre"),Object(c["h"])("th",{scope:"col"},"Fichar/Desfichar")])],-1)})),x={key:0},k=["onClick"],C={key:1},T=["onClick"],B=n((function(){return Object(c["h"])("div",{class:"modal-footer"},[Object(c["h"])("button",{type:"button",class:"btn btn-danger btn-lg","data-bs-dismiss":"modal"},"Cerrar")],-1)}));function M(t,a,e,n,M,F){return Object(c["w"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("div",o,[Object(c["h"])("div",r,[Object(c["h"])("div",s,[Object(c["h"])("div",i,[l,Object(c["h"])("a",{href:"#",class:"btn btn-primary",onClick:a[0]||(a[0]=function(t){return n.abrirModal()})},"Fichaje")])]),Object(c["h"])("div",b,[Object(c["h"])("div",d,[u,Object(c["h"])("button",{onClick:a[1]||(a[1]=function(t){return n.consumoPersonal()}),class:"btn btn-primary"},"Consumo personal")])])])]),Object(c["h"])("div",h,[Object(c["h"])("div",j,[Object(c["h"])("div",f,[O,Object(c["h"])("div",p,[Object(c["h"])("div",m,[Object(c["Q"])(Object(c["h"])("input",{"onUpdate:modelValue":a[2]||(a[2]=function(t){return n.inputBusqueda=t}),class:"form-control",style:{width:"350px",height:"50px","font-size":"20px"},type:"text",placeholder:"Introduce tu nombre"},null,512),[[c["M"],n.inputBusqueda]]),Object(c["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:a[3]||(a[3]=function(t){return n.buscar()})},"Buscar"),Object(c["h"])("button",{type:"button",style:{width:"200px"},class:"btn btn-warning ms-2",onClick:a[4]||(a[4]=function(t){return n.actualizarLista()})},"Actualizar lista"),Object(c["h"])("div",y,[Object(c["h"])("div",v,[Object(c["h"])("table",w,[g,Object(c["h"])("tbody",null,[(Object(c["w"])(!0),Object(c["g"])(c["a"],null,Object(c["C"])(n.arrayTrabajadores,(function(t,a){return Object(c["w"])(),Object(c["g"])("tr",{key:a},[Object(c["h"])("td",null,Object(c["H"])(t.nombre),1),!1===t.fichado||void 0==t.fichado?(Object(c["w"])(),Object(c["g"])("td",x,[Object(c["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return n.fichar(t,a)}},"FICHAR",8,k)])):(Object(c["w"])(),Object(c["g"])("td",C,[Object(c["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-success btn_fc",onClick:function(e){return n.desfichar(t,a)}},"DESFICHAR",8,T)]))])})),128))])])])])])]),B])])])],64)}var F=e("7b17"),z=e("bc3a"),q=e.n(z),A=e("5502"),I=e("a18c"),L=e("0180"),E={name:"Dependientas",setup:function(){var t=Object(A["b"])(),a="Santy",e=156,n=null,o=Object(c["B"])([]),r=Object(c["B"])(""),s=Object(L["b"])();function i(){n.show()}function l(){n.hide()}function b(){q.a.post("trabajadores/buscar",{busqueda:r.value}).then((function(t){o.value=t.data}))["catch"]((function(t){console.log(t)}))}function d(t,a){q.a.post("trabajadores/fichar",{idTrabajador:t.idTrabajador}).then((function(t){t.data.error?(console.log(t.data.mensaje),o.value[a].fichado=!1):(console.log("Trabajador fichado"),o.value[a].fichado=!0)}))["catch"]((function(t){console.log(t)}))}function u(){q.a.post("trabajadores/actualizarTrabajadores").then((function(t){0==t.data.error?s.success("Trabajadores actualizados"):s.error(t.data.mensaje)}))}function h(t,a){q.a.post("trabajadores/desfichar",{idTrabajador:t.idTrabajador}).then((function(t){t.data.error?console.log("Error al desfichar"):(console.log("Trabajador desfichado"),o.value[a].fichado=!1)}))["catch"]((function(t){console.log(t)}))}function j(){t.dispatch("setModoActual","CONSUMO PERSONAL"),t.dispatch("Footer/setMenuActivo",1),I["a"].push("/")}return Object(c["u"])((function(){n=new F["a"](document.getElementById("modalFichajes"),{keyboard:!1})})),{actualizarLista:u,consumoPersonal:j,fichar:d,desfichar:h,inputBusqueda:r,arrayTrabajadores:o,buscar:b,cerrarModal:l,abrirModal:i,nombre:a,id:e}},watch:{inputBusqueda:function(){this.inputBusqueda.length>=3&&this.buscar()}}},S=(e("fba0"),e("d959")),_=e.n(S);const D=_()(E,[["render",M],["__scopeId","data-v-1e2182b8"]]);a["default"]=D},"5c6e":function(t,a,e){},fba0:function(t,a,e){"use strict";e("5c6e")}}]);
//# sourceMappingURL=chunk-25738e28.612edd7b.js.map