{"version":3,"sources":["webpack:///./src/components/MesasComponent.vue?996e","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/Mesas.vue","webpack:///./src/components/MesasComponent.vue","webpack:///./src/components/MesasComponent.vue?50ac","webpack:///./src/views/Mesas.vue?6b96"],"names":["$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","target","proto","forced","reduce","callbackfn","length","arguments","this","undefined","fails","module","exports","METHOD_NAME","argument","method","call","global","aCallable","toObject","IndexedObject","lengthOfArrayLike","TypeError","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","right","class","id","tabindex","key","j","findMesa","activada","seleccionarCesta","nombre","total","volver","type","abrirModal","nuevaCestaString","style","aria-label","aria-describedby","addText","cerrarModal","borrarLetra","crearCesta","name","setup","activo","store","arrayCestas","toast","nRows","value","parseInt","modal","setActivo","x","texto","slice","router","push","a","post","nombreCesta","then","res","data","error","success","cargarCestas","mensaje","err","console","log","dispatch","idMongo","col","row","nMesa","find","idCestaSincro","_id","lista","o","subtotal","existePosicion","getTotalPosicion","toFixed","get","info","borrarCesta","confirm","okey","show","hide","modalElement","document","getElementById","keyboard","__exports__","components","MesasComponent","render"],"mappings":"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","file":"js/chunk-4aee1b2d.6023cd1c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MesasComponent.vue?vue&type=style&index=0&id=661465c4&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var global = require('../internals/global');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar TypeError = global.TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","<template>\n    <MesasComponent />\n</template>\n<script>\nimport MesasComponent from '../components/MesasComponent.vue';\n\nexport default {\n  name: 'Mesas',\n  setup() {\n    return {};\n  },\n  components: {\n    MesasComponent,\n  },\n};\n</script>\n","<template>\r\n    <div class=\"container-mesas\">\r\n        <!--<div v-for=\"(item, index) in arrayCestas\" v-bind:key=\"index\" class=\"row mt-3\">\r\n            <div v-if=\"existePosicion(index*10+ 0)\" class='col-md-3 text-center'>\r\n                <div class=\"card cestaActiva mb-3\" style=\"max-width: 20rem;\">\r\n                    <div class=\"card-header titleStyle\">{{arrayCestas[index*10].nombreCesta}}</div>\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{getTotalPosicion(index*10+ 0)}} €</h5>\r\n                        <div class=\"pt-2\">\r\n                            <button @click=\"seleccionarCesta(index*10+ 0)\" class=\"btn btn-primary sizeBotones\">Abrir</button>\r\n                            <button @click=\"borrarCesta(index*10)\" class=\"btn btn-danger ms-2 sizeBotones\">Borrar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"existePosicion(index*10+ 1)\" class='col-md-3 text-center'>\r\n                <div class=\"card cestaActiva mb-3\" style=\"max-width: 20rem;\">\r\n                    <div class=\"card-header titleStyle\">{{arrayCestas[index*10+ 1].nombreCesta}}</div>\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{getTotalPosicion(index*10+ 1)}} €</h5>\r\n                        <div class=\"pt-2\">\r\n                            <button @click=\"seleccionarCesta(index*10+ 1)\" class=\"btn btn-primary sizeBotones\">Abrir</button>\r\n                            <button @click=\"borrarCesta(index*10+ 1)\" class=\"btn btn-danger ms-2 sizeBotones\">Borrar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"existePosicion(index*10+ 2)\" class='col-md-3 text-center'>\r\n                <div class=\"card cestaActiva mb-3\" style=\"max-width: 20rem;\">\r\n                    <div class=\"card-header titleStyle\">{{arrayCestas[index*10+ 2].nombreCesta}}</div>\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{getTotalPosicion(index*10+ 2)}} €</h5>\r\n                        <div class=\"pt-2\">\r\n                            <button @click=\"seleccionarCesta(index*10+ 2)\" class=\"btn btn-primary sizeBotones\">Abrir</button>\r\n                            <button @click=\"borrarCesta(index*10+ 2)\" class=\"btn btn-danger ms-2 sizeBotones\">Borrar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"existePosicion(index*10+ 3)\" class='col-md-3 text-center'>\r\n                <div class=\"card cestaActiva mb-3\" style=\"max-width: 20rem;\">\r\n                    <div class=\"card-header titleStyle\">{{arrayCestas[index*10+ 3].nombreCesta}}</div>\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{getTotalPosicion(index*10+ 3)}} €</h5>\r\n                        <div class=\"pt-2\">\r\n                            <button @click=\"seleccionarCesta(index*10+ 3)\" class=\"btn btn-primary sizeBotones\">Abrir</button>\r\n                            <button @click=\"borrarCesta(index*10+ 3)\" class=\"btn btn-danger ms-2 sizeBotones\">Borrar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>-->\r\n        <div v-for=\"i in 10\" :key='i' class='row mt-1'>\r\n            <div v-for='j in 10' :key='j' class='col'>\r\n                <div class='mesaGeneral' @click='seleccionarCesta(findMesa(j, i))' v-bind:class=\"[{'cardMesa': findMesa(j, i).activada, 'cardMesaDisabled': !findMesa(j, i).activada}]\">\r\n                    <p>{{findMesa(j, i).nombre}}</p>\r\n                    <p>{{findMesa(j, i).total}}</p>\r\n                </div>\r\n            </div>\r\n        </div> \r\n    </div>\r\n    <div class=\"position-fixed bottom-0 end-0 mb-1 me-2\">\r\n        <button @click=\"volver()\" class=\"btn btn-warning sizeBotones me-2\"> Volver </button>\r\n        <button type=\"button\" class=\"btn btn-primary sizeBotones\" @click=\"abrirModal()\">Inicio</button>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"modalNuevaCesta\" tabindex=\"-1\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Crear nueva cesta</h5>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <div class=\"input-group input-group-lg\">\r\n                    <input v-model=\"nuevaCestaString\" type=\"text\" class=\"form-control\" style=\"font-weight: bold;\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row mt-4\">\r\n                <div class=\"col-md-6 text-center\">\r\n                    <div class=\"btn-group-vertical\">\r\n                        <button @click=\"addText(' PISO')\" class=\"btn btn-secondary mnemoSize border\">PISO</button>\r\n                        <button @click=\"addText(' CASA')\" class=\"btn btn-secondary mt-2 mnemoSize border\">CASA</button>\r\n                        <button @click=\"addText(' BARCO')\" class=\"btn btn-secondary mt-2 mnemoSize border\">BARCO</button>\r\n                        <button @click=\"addText(' DEVOLUCIÓN')\" class=\"btn btn-warning mt-2 mnemoSize border\">DEVOLUCIÓN</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6 text-center\">\r\n                    <div class=\"btn-group-vertical\">\r\n                        <button @click=\"addText(' BLANCO')\" style=\"background: #EEEEEE; color:black;\" class=\"btn btn-primary mnemoSize border\">BLANCO</button>\r\n                        <button @click=\"addText(' ROJO')\" style=\"background: #E86A6A; color:black;\" class=\"btn btn-primary mt-2 mnemoSize border\">ROJO</button>\r\n                        <button @click=\"addText(' AZUL')\" style=\"background: #5399D1; color:black;\" class=\"btn btn-primary mt-2 mnemoSize border\">AZUL</button>\r\n                        <button @click=\"addText(' VERDE')\" style=\"background: #76B842; color:black;\" class=\"btn btn-warning mt-2 mnemoSize border\">VERDE</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"modal-footer mt-1 mx-auto\">\r\n            <button type=\"button\" class=\"btn btn-danger btn-lg\" @click=\"cerrarModal()\">Cerrar</button>\r\n            <button type=\"button\" class=\"btn btn-secondary btn-lg\" @click=\"borrarLetra()\">Borrar</button>\r\n            <button type=\"button\" class=\"btn btn-primary btn-lg\" @click=\"crearCesta()\">Crear</button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { computed, onMounted, ref } from 'vue';\r\n    import router from '../router/index';\r\n    import axios from 'axios';\r\n    import { useToast } from 'vue-toastification';\r\n    import { useStore } from 'vuex';\r\n    import { Modal } from 'bootstrap';\r\n\r\n    export default {\r\n        name: 'MesasComponent',\r\n        setup() {\r\n            const activo = ref(0);\r\n            const store = useStore();\r\n            const arrayCestas = ref([]);\r\n            const toast = useToast();\r\n            const nuevaCestaString = ref('');\r\n            const nRows = computed(() => {\r\n                if (arrayCestas.value.length % 4 > 0) {\r\n                    return parseInt(arrayCestas.value.length/4) + 1;\r\n                } else {\r\n                    return parseInt(arrayCestas.value.length/4);\r\n                }\r\n            });\r\n            var modal = null;\r\n\r\n\r\n            function setActivo(x) {\r\n                activo.value = x;\r\n            }\r\n\r\n            function addText(texto) {\r\n                nuevaCestaString.value += texto;\r\n            }\r\n\r\n            function borrarLetra() {\r\n                nuevaCestaString.value = nuevaCestaString.value.slice(0, -1);\r\n            }\r\n\r\n            function volver() {\r\n                router.push('/');\r\n            }\r\n\r\n            function crearCesta() {\r\n                if (nuevaCestaString.value.length > 2) {\r\n                    axios.post('cestas/crearCesta', { nombreCesta: nuevaCestaString.value }).then((res) => {\r\n                        if (res.data.error == false) {\r\n                            nuevaCestaString.value = '';\r\n                            toast.success('Cesta creada');\r\n                            cerrarModal();\r\n                            cargarCestas();\r\n                        } else {\r\n                            toast.error(res.data.mensaje);\r\n                        }\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        toast.error('Error, no se ha podido crear la nueva cesta');\r\n                    });\r\n                } else {\r\n                    toast.error('3 letras mínimo');\r\n                }\r\n            }\r\n\r\n            function seleccionarCesta(data) {\r\n                store.dispatch('Cesta/setIdAction', data.idMongo);\r\n                store.dispatch('CestasActivas/setCestasActivasAction', {idMongo: data.idMongo, nombre: data.nombre});\r\n                volver();\r\n            }\r\n\r\n            function findMesa(col, row) {\r\n                let nMesa = col;\r\n                if(row !== 1) nMesa = (row * 10) - (10 - col);\r\n                const data = arrayCestas.value.find(i => i.idCestaSincro === `TaulaNom${nMesa}`);\r\n                if(data !== undefined) console.log(data)\r\n                return data !== undefined ? { idMongo: data._id, activada: true, nombre: data.nombreCesta, total: data.lista.reduce((total, o) =>  o.subtotal + total,0) } : { activada: false, nombre: '', total: ''};\r\n            }\r\n\r\n            function existePosicion(index) {\r\n                if (arrayCestas.value[index] != undefined) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            function getTotalPosicion(index) {\r\n                let subtotal = 0;\r\n\r\n                for (let i = 0; i < arrayCestas.value[index].lista.length; i++) {\r\n                    subtotal += arrayCestas.value[index].lista[i].subtotal;\r\n                }\r\n                return subtotal.toFixed(2);\r\n            }\r\n\r\n            function cargarCestas() {\r\n                axios.get('cestas/getCestas').then((res) => {\r\n                    if (res.data.error == false) {\r\n                        arrayCestas.value = res.data.info;\r\n                        console.log(res.data.info)\r\n                    } else {\r\n                        toast.error(res.data.mensaje);\r\n                    }\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    toast.error('Error en get > cestas/getCestas');\r\n                });\r\n            }\r\n\r\n            function borrarCesta(index) {\r\n                if(arrayCestas.value.length > 1) {\r\n                    if(confirm('Confirma para borrar la cesta')) {\r\n                        axios.post('cestas/borrarCesta', { id: arrayCestas.value[index]._id }).then((res) => {\r\n                            if (res.data.okey == true) {\r\n                                toast.success('Cesta borrada');\r\n                                cargarCestas();\r\n                            } else {\r\n                                toast.error(res.data.error);\r\n                            }\r\n                        }).catch((err) => {\r\n                            console.log(err);\r\n                            toast.error('Error, no se ha podido borrar la cesta');\r\n                        });\r\n                    }\r\n                } else {\r\n                    toast.info('¡Debe haber una cesta al menos!');\r\n                }\r\n            }\r\n\r\n            function abrirModal() {\r\n                modal.show();\r\n            }\r\n            \r\n            function cerrarModal() {\r\n                cargarCestas();\r\n                modal.hide();\r\n            }\r\n\r\n            onMounted(() => {\r\n                const modalElement = document.getElementById('modalNuevaCesta');\r\n                if (modalElement != null) {\r\n                    modal = new Modal(modalElement, { keyboard: false });\r\n                }\r\n                cargarCestas();\r\n            });\r\n\r\n            return {\r\n                crearCesta,\r\n                borrarLetra,\r\n                nuevaCestaString,\r\n                addText,\r\n                borrarCesta,\r\n                abrirModal,\r\n                cerrarModal,\r\n                seleccionarCesta,\r\n                getTotalPosicion,\r\n                existePosicion,\r\n                nRows,\r\n                arrayCestas,\r\n                volver,\r\n                setActivo,\r\n                findMesa,\r\n            };\r\n        },\r\n    };\r\n</script>\r\n<style scoped>\r\n    .fixed-row-bottom {\r\n        position: fixed;\r\n        bottom: 0;\r\n    }\r\n\r\n    .cestaActiva {\r\n        background: #EFD8A6;\r\n    }\r\n\r\n    .sizeBotones {\r\n        font-size: 2em;\r\n    }\r\n\r\n    .mnemoSize {\r\n        font-size: 1.5em;\r\n        width: 210px;\r\n        font-weight: bold;\r\n    }\r\n    .titleStyle {\r\n        font-size: 25px;\r\n        font-weight: bold;\r\n    }\r\n    .cardMesa {\r\n        border: 1px solid black;\r\n        border-radius: 5px;\r\n        text-align: center;\r\n        width: 7.5vw;\r\n        height: 5vw;\r\n        max-height: 5vw;\r\n        font-size: .8em;\r\n    }\r\n    .cardMesaDisabled {\r\n        border: 1px solid gray;\r\n        border-radius: 5px;\r\n        text-align: center;\r\n        width: 7.5vw;\r\n        height: 5vw;\r\n        max-height: 5vw;\r\n        color: gray;\r\n    }\r\n    .padding0 {\r\n        padding-right: 0;\r\n        padding-left: 0;\r\n    }\r\n    .mesaGeneral {\r\n        cursor: pointer;\r\n    }\r\n</style>\r\n","import { render } from \"./MesasComponent.vue?vue&type=template&id=661465c4&scoped=true\"\nimport script from \"./MesasComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MesasComponent.vue?vue&type=script&lang=js\"\n\nimport \"./MesasComponent.vue?vue&type=style&index=0&id=661465c4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocGame/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-661465c4\"]])\n\nexport default __exports__","import { render } from \"./Mesas.vue?vue&type=template&id=704b656d\"\nimport script from \"./Mesas.vue?vue&type=script&lang=js\"\nexport * from \"./Mesas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocGame/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}