{"version":3,"sources":["webpack:///./src/components/MesasComponent.vue?a303","webpack:///./src/views/Mesas.vue","webpack:///./src/components/MesasComponent.vue","webpack:///./src/components/MesasComponent.vue?53dd","webpack:///./src/views/Mesas.vue?b16b"],"names":["class","style","cestas","cesta","key","_id","nombre","Number","tiposIva","importe1","importe2","importe3","toFixed","type","seleccionarCesta","borrarCesta","placeholder","crearCesta","href","volver","name","setup","store","router","push","value","a","post","nombreCesta","then","res","data","error","err","console","log","alert","idCesta","dispatch","id","get","__exports__","components","MesasComponent","ToastComponent","Toast","render"],"mappings":"yIAAA,W,+MCCI,eAAkB,GAClB,eAAiB,I,uHCDZA,MAAM,mB,GACFA,MAAM,Y,GAEEA,MAAM,OAAOC,MAAA,iB,GACTD,MAAM,a,SAC0BA,MAAM,c,SAC5BA,MAAM,c,GACdA,MAAM,a,GAMhBA,MAAM,kC,GACFA,MAAM,mB,GACFA,MAAM,OAAOC,MAAA,iB,GACTD,MAAM,a,EACP,eAAsC,MAAlCA,MAAM,cAAa,cAAU,G,EAEjC,eAAyC,KAAtCA,MAAM,aAAY,oBAAgB,G,GAOpDA,MAAM,oC,wEA1Bf,eA6BM,MA7BN,EA6BM,CA5BF,eAwBM,MAxBN,EAwBM,E,mBAvBF,eAUM,2BAVuC,EAAAE,QAAM,SAAfC,G,wBAApC,eAUM,OAVDH,MAAM,kBAA2CI,IAAKD,EAAME,K,CAC7D,eAQM,MARN,EAQM,CAPF,eAMM,MANN,EAMM,CALoB,OAAZF,EAAMG,Q,iBAAhB,eAAkE,KAAlE,EAAoD,e,iBACpD,eAAmD,KAAnD,EAAmD,eAAnBH,EAAMG,QAAM,IAC5C,eAAoI,IAApI,EAAqB,UAAO,eAAGC,OAAOJ,EAAMK,SAASC,SAAWN,EAAMK,SAASE,SAAWP,EAAMK,SAASG,UAAUC,QAAO,OAC1H,eAAuG,UAA/FC,KAAK,SAAU,QAAK,mBAAE,EAAAC,iBAAiBX,EAAME,MAAML,MAAM,mBAAkB,cAAW,eAC9F,eAAiG,UAAzFa,KAAK,SAAU,QAAK,mBAAE,EAAAE,YAAYZ,EAAME,MAAML,MAAM,uBAAsB,SAAM,wB,MAIpG,eAWM,MAXN,EAWM,CAVF,eASM,MATN,EASM,CARF,eAOM,MAPN,EAOM,CANF,eAKM,MALN,EAKM,CAJF,E,eACA,eAA6E,SAAtEa,KAAK,OAAOG,YAAY,2B,qDAAoC,EAAAV,OAAM,K,mBAAN,EAAAA,UACnE,EACA,eAAmE,KAA/D,QAAK,+BAAE,EAAAW,eAAcC,KAAK,IAAIlB,MAAM,mBAAkB,mBAM9E,eAEM,MAFN,EAEM,CADF,eAA6E,UAApE,QAAK,+BAAE,EAAAmB,WAAUnB,MAAM,+BAA8B,iB,6CAUvD,GACXoB,KAAM,iBACNC,MAFW,WAGP,IAAMC,EAAQ,iBACRhB,EAAS,eAAI,IACbJ,EAAS,eAAI,MACnB,SAASiB,IACLI,EAAA,KAAOC,KAAK,KAEhB,SAASP,IACe,KAAjBX,EAAOmB,MAIV,EAAAC,EAAMC,KAAK,qBAAsB,CAAEC,YAAatB,EAAOmB,QAASI,MAAK,SAACC,GAC9DA,EAAIC,KAAKC,OAAOb,OADxB,UAES,SAACc,GACNC,QAAQC,IAAIF,GACZG,MAAM,uDAPNA,MAAM,mCAUd,SAAStB,EAAiBuB,GACtBf,EAAMgB,SAAS,oBAAqBD,GACpClB,IAEJ,SAASJ,EAAYsB,GACjB,EAAAX,EAAMC,KAAK,sBAAuB,CAAEY,GAAIF,IACxClB,IAaJ,OAXA,gBAAU,WACN,EAAAO,EAAMc,IAAI,qBAAqBX,MAAK,SAACC,GAC7BA,EAAIC,KAAKC,QACT9B,EAAOuB,MAAQK,EAAIC,KAAK7B,WAFhC,UAIS,SAAC+B,GACNC,QAAQC,IAAIF,GACZG,MAAM,0EAIP,CACHjB,SACAb,SACAW,aACAf,SACAY,mBACAC,iB,iCC7EhB,MAAM0B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,QFDA,GACbrB,KAAM,QACNC,MAFa,WAGX,MAAO,IAETqB,WAAY,CACVC,iBACAC,eAAAC,EAAA,OGVJ,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-0ba49baa.e187d313.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MesasComponent.vue?vue&type=style&index=0&id=061e7c76&scoped=true&lang=css\"","<template>\n    <MesasComponent />\n    <ToastComponent/>\n</template>\n<script>\nimport ToastComponent from '../components/Toast.vue';\nimport MesasComponent from '../components/MesasComponent.vue';\n\nexport default {\n  name: 'Mesas',\n  setup() {\n    return {};\n  },\n  components: {\n    MesasComponent,\n    ToastComponent,\n  },\n};\n</script>\n","<template>\r\n    <div class='container-mesas'>\r\n        <div class='row mt-3'>\r\n            <div class='col text-center' v-for='cesta in cestas' :key=\"cesta._id\">\r\n                <div class=\"card\" style=\"width: 18rem;\">\r\n                    <div class=\"card-body\">\r\n                        <h5 v-if='cesta.nombre === null' class=\"card-title\">Principal</h5>\r\n                        <h5 v-else class=\"card-title\">{{cesta.nombre}}</h5>\r\n                        <p class=\"card-text\">Total: {{ Number(cesta.tiposIva.importe1 + cesta.tiposIva.importe2 + cesta.tiposIva.importe3).toFixed(2) }}</p>\r\n                        <button type='button' @click='seleccionarCesta(cesta._id)' class=\"btn btn-primary\">Seleccionar</button>\r\n                        <button type='button' @click='borrarCesta(cesta._id)' class=\"btn btn-danger ms-2\">Borrar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class='row mt-3 mb-3 fixed-row-bottom'>\r\n                <div class='col text-center'>\r\n                    <div class=\"card\" style=\"width: 18rem;\">\r\n                        <div class=\"card-body\">\r\n                            <h5 class=\"card-title\">Nueva mesa</h5>\r\n                            <input type='text' placeholder='Nombre de la mesa/ticket' v-model='nombre' />\r\n                            <p class=\"card-text\">Crear nueva mesa</p>\r\n                            <a @click=\"crearCesta()\" href=\"#\" class=\"btn btn-primary\">Crear</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"position-absolute bottom-0 end-0\">\r\n            <button @click=\"volver()\" class=\"btn btn-primary btn-lg me-2\">VOLVER</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { ref, onMounted, computed } from 'vue';\r\n    import { useStore } from 'vuex';\r\n    import axios from 'axios';\r\n    import router from '../router/index';\r\n\r\n    export default {\r\n        name: 'MesasComponent',\r\n        setup() {\r\n            const store = useStore();\r\n            const nombre = ref('');\r\n            const cestas = ref(null);\r\n            function volver() {\r\n                router.push('/');\r\n            }\r\n            function crearCesta() {\r\n                if(nombre.value === '') {\r\n                    alert('El nombre no puede estar vacío.');\r\n                    return;\r\n                }\r\n                axios.post('/cestas/crearCesta', { nombreCesta: nombre.value }).then((res) => {\r\n                    if(!res.data.error) volver();\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    alert('¡Error en la creación! Contacta con informática.')\r\n                })\r\n            }\r\n            function seleccionarCesta(idCesta) {\r\n                store.dispatch('Cesta/setIdAction', idCesta);\r\n                volver();\r\n            }\r\n            function borrarCesta(idCesta) {\r\n                axios.post('/cestas/borrarCesta', { id: idCesta });\r\n                volver();\r\n            }\r\n            onMounted(() => {\r\n                axios.get('/cestas/getCestas').then((res) => {\r\n                    if(!res.data.error) {\r\n                        cestas.value = res.data.cestas;\r\n                    }\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    alert('¡Error descargando las cestas/tickets! Contacta con informática.')\r\n                });\r\n\r\n            });\r\n            return {\r\n                volver,\r\n                nombre,\r\n                crearCesta,\r\n                cestas,\r\n                seleccionarCesta,\r\n                borrarCesta,\r\n            };\r\n        },\r\n    };\r\n</script>\r\n<style scoped>\r\n    .fixed-row-bottom {\r\n        position: fixed;\r\n        bottom: 0;\r\n    }\r\n</style>\r\n","import { render } from \"./MesasComponent.vue?vue&type=template&id=061e7c76&scoped=true\"\nimport script from \"./MesasComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MesasComponent.vue?vue&type=script&lang=js\"\n\nimport \"./MesasComponent.vue?vue&type=style&index=0&id=061e7c76&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-061e7c76\"]])\n\nexport default __exports__","import { render } from \"./Mesas.vue?vue&type=template&id=49890ad9\"\nimport script from \"./Mesas.vue?vue&type=script&lang=js\"\nexport * from \"./Mesas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/santy/Trabajo/tocFrontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}