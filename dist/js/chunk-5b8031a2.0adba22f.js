(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b8031a2"],{"308b":function(t,a,e){"use strict";e.r(a);var n=e("7a23"),c=function(t){return Object(n["A"])("data-v-b85a42e2"),t=t(),Object(n["y"])(),t},o={class:"row"},s={class:"col-md-6 ms-3 mt-3"},r={class:"row ms-3"},i={class:"card cardWidth"},l={class:"card-body",style:{"text-align":"center"}},d=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-fingerprint"})],-1)})),b={class:"card cardWidth"},u={class:"card-body",style:{"text-align":"center"}},h=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-cup-straw"})],-1)})),j={class:"card cardWidth"},f={class:"card-body",style:{"text-align":"center"}},O=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-file-earmark-lock"})],-1)})),p={class:"card cardWidth"},m={class:"card-body",style:{"text-align":"center"}},g=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-power"})],-1)})),v={class:"row ms-3"},y={class:"card cardWidth"},w={class:"card-body",style:{"text-align":"center"}},x=c((function(){return Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-door-open"})],-1)})),C={class:"modal fade",id:"modalFichajes","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},k={class:"modal-dialog",style:{"max-width":"700px"}},P={class:"modal-content"},T=c((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Fichaje"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),A={class:"modal-body"},N={class:"row"},I={class:"row mt-2"},R=c((function(){return Object(n["h"])("option",{value:"SIN_TURNO"},"Sin turno",-1)})),M=["value"],E={class:"row mt-2"},q={class:"table",style:{height:"400px"}},S={class:"table table-striped"},_=c((function(){return Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Nombre"),Object(n["h"])("th",{scope:"col"},"Fichar/Desfichar")])],-1)})),F={key:0},U=["onClick"],B={key:1},z=c((function(){return Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-success"},"Fichada/o",-1)})),D=[z],L={class:"modal-footer"},W={class:"modal fade",id:"modalPassword",tabindex:"-1"},V={class:"modal-dialog",style:{"max-width":"700px"}},J={class:"modal-content"},H=c((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Ingresa la contraseña"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),G={class:"modal-body"},K={class:"row"},Q={class:"col"},X={class:"mb-3"},Y=c((function(){return Object(n["h"])("label",{class:"form-label"},"Contraseña",-1)})),Z=c((function(){return Object(n["h"])("div",{class:"modal-footer"},[Object(n["h"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Cerrar"),Object(n["h"])("button",{type:"submit",class:"btn btn-success","data-bs-dismiss":"modal"},"Confirmar")],-1)}));function $(t,a,e,c,z,$){return Object(n["x"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",o,[Object(n["h"])("div",s,[Object(n["h"])("div",r,[Object(n["h"])("div",i,[Object(n["h"])("div",l,[d,Object(n["h"])("a",{href:"#",class:"btn btn-primary",onClick:a[0]||(a[0]=function(t){return c.abrirModal()})},"Fichaje")])]),Object(n["h"])("div",b,[Object(n["h"])("div",u,[h,Object(n["h"])("button",{onClick:a[1]||(a[1]=function(t){return c.consumoPersonal()}),class:"btn btn-primary"},"Consumo personal")])]),Object(n["h"])("div",j,[Object(n["h"])("div",f,[O,Object(n["h"])("button",{onClick:a[2]||(a[2]=function(t){return c.abrirModalPassword()}),class:"btn btn-primary"},"Menú responsable")])]),Object(n["h"])("div",p,[Object(n["h"])("div",m,[g,Object(n["h"])("button",{onClick:a[3]||(a[3]=function(t){return c.apagarEquipo()}),class:"btn btn-danger"},"Apagar")])])]),Object(n["h"])("div",v,[Object(n["h"])("div",y,[Object(n["h"])("div",w,[x,Object(n["h"])("button",{onClick:a[4]||(a[4]=function(t){return c.desfichar()}),class:"btn btn-primary"},"DesFichar")])])])])]),Object(n["h"])("div",C,[Object(n["h"])("div",k,[Object(n["h"])("div",P,[T,Object(n["h"])("div",A,[Object(n["h"])("div",N,[Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":a[5]||(a[5]=function(t){return c.inputBusqueda=t}),class:"form-control",style:{width:"350px",height:"50px","font-size":"20px"},type:"text",placeholder:"Introduce tu nombre"},null,512),[[n["N"],c.inputBusqueda]]),Object(n["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:a[6]||(a[6]=function(t){return c.buscar()})},"Buscar"),Object(n["h"])("button",{type:"button",style:{width:"200px"},class:"btn btn-warning ms-2",onClick:a[7]||(a[7]=function(t){return c.actualizarLista()})},"Actualizar lista"),Object(n["h"])("div",I,[Object(n["R"])(Object(n["h"])("select",{"onUpdate:modelValue":a[8]||(a[8]=function(t){return c.idPlanificacion=t}),class:"form-select",style:{height:"50px","font-size":"20px"}},[R,(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(c.arrayPlanes,(function(t,a){return Object(n["x"])(),Object(n["g"])("option",{key:a,value:c.arrayPlanes[a].idPlan},Object(n["I"])(c.arrayPlanes[a].turno),9,M)})),128))],512),[[n["M"],c.idPlanificacion]])]),Object(n["h"])("div",E,[Object(n["h"])("div",q,[Object(n["h"])("table",S,[_,Object(n["h"])("tbody",null,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(c.arrayTrabajadores,(function(t,a){return Object(n["x"])(),Object(n["g"])("tr",{key:a},[Object(n["h"])("td",null,Object(n["I"])(t.nombre),1),!1===t.fichado||void 0==t.fichado?(Object(n["x"])(),Object(n["g"])("td",F,[Object(n["h"])("a",{href:"#",style:{width:"150px"},class:"btn btn-outline-primary btn_fc",onClick:function(e){return c.fichar(t,a)}},"FICHAR",8,U)])):(Object(n["x"])(),Object(n["g"])("td",B,D))])})),128))])])])])])]),Object(n["h"])("div",L,[Object(n["h"])("button",{type:"button",class:"btn btn-danger btn-lg","data-bs-dismiss":"modal",onClick:a[9]||(a[9]=function(t){return c.goTo("/")})},"Confirmar")])])])]),Object(n["h"])("div",W,[Object(n["h"])("div",V,[Object(n["h"])("div",J,[Object(n["h"])("form",{onSubmit:a[11]||(a[11]=Object(n["S"])((function(t){return c.goToMenuResponsable()}),["prevent"]))},[H,Object(n["h"])("div",G,[Object(n["h"])("div",K,[Object(n["h"])("div",Q,[Object(n["h"])("div",X,[Y,Object(n["R"])(Object(n["h"])("input",{type:"password",minlength:"3",maxlength:"20",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=function(t){return c.password=t})},null,512),[[n["N"],c.password]])])])])]),Z],32)])])])],64)}var tt=e("1da1"),at=(e("96cf"),e("7b17")),et=e("bc3a"),nt=e.n(et),ct=e("5502"),ot=e("a18c"),st=e("0180"),rt=e("10c4"),it={name:"Dependientas",setup:function(){var t=Object(ct["b"])(),a=Object(n["C"])("SIN_TURNO"),e="Santy",c=156,o=null,s=null,r=Object(n["C"])([]),i=Object(n["C"])(""),l=Object(st["b"])(),d=Object(n["C"])([]),b=Object(n["C"])("");function u(){console.log("El selected es: ",a.value)}function h(){return j.apply(this,arguments)}function j(){return j=Object(tt["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt(b.value);case 2:a=t.sent,"4cd914fef37199909adb4c0ba5e31439429995c4"==a?ot["a"].push("/menuResponsable"):l.error("Contraseña incorrecta");case 4:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function f(){g().then((function(){o.show()}))["catch"]((function(t){console.log(t),o.show()}))}function O(){s.show()}function p(){o.hide()}function m(){nt.a.post("trabajadores/buscar",{busqueda:i.value}).then((function(t){r.value=t.data}))["catch"]((function(t){console.log(t)}))}function g(){return nt.a.get("turnos/getPlanes").then((function(t){0==t.data.error?d.value=t.data.info:l.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),l.error("Error frontend catch: axios turnos/getPlanes")}))}function v(e,n){nt.a.post("trabajadores/fichar",{idTrabajador:e.idTrabajador,idPlan:a.value}).then((function(c){c.data.error?(console.log(c.data.mensaje),r.value[n].fichado=!1):(t.dispatch("Cesta/setIdAction",e.idTrabajador),r.value[n].fichado=!0,g(),a.value="SIN_TURNO")}))["catch"]((function(t){console.log(t)}))}function y(t,e){"SIN_TURNO"==a.value?confirm("No has seleccionado turno. ¿CONTINUAR?")&&v(t,e):v(t,e)}function w(){nt.a.post("trabajadores/actualizarTrabajadores").then((function(t){0==t.data.error?l.success("Trabajadores actualizados"):l.error(t.data.mensaje)}))}function x(){nt.a.post("trabajadores/desfichar",{idTrabajador:t.state.Trabajadores.trabajadorActivo}).then((function(a){a.data.error?console.log("Error al desfichar"):(t.dispatch("CestasActivas/deleteCestaActivaAction",t.state.Trabajadores.trabajadorActivo),nt.a.post("cestas/getCestaDiferente",{id_cesta:t.state.Trabajadores.trabajadorActivo}).then((function(a){t.dispatch("Cesta/setIdAction",a.data._id),nt.a.post("trabajadores/setActivo",{id:a.data._id}).then((function(t){t.data.error&&l.error(t.data.mensaje)})),ot["a"].push("/")}))["catch"]((function(t){console.log(t)})))}))["catch"]((function(t){console.log(t)}))}function C(){t.dispatch("setModoActual","CONSUMO PERSONAL"),t.dispatch("Footer/setMenuActivo",1),ot["a"].push("/")}function k(t){ot["a"].push(t)}function P(){nt.a.get("apagarEquipo").then((function(t){console.log(t.data),0==t.data.error&&(console.log("he lllegado al apagar equipo !!!"),console.log(t.data.mensaje))}))["catch"]((function(t){console.log(t),l.error("Error frontend catch: axios apagar/apagar")}))}return Object(n["v"])((function(){o=new at["a"](document.getElementById("modalFichajes"),{keyboard:!1}),s=new at["a"](document.getElementById("modalPassword"),{keyboard:!1}),nt.a.get("turnos/getPlanes").then((function(t){0==t.data.error?d.value=t.data.info:l.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),l.error("Error frontend catch: axios turnos/getPlanes")}))})),{goTo:k,goToMenuResponsable:h,abrirModalPassword:O,password:b,test:u,arrayPlanes:d,idPlanificacion:a,actualizarLista:w,consumoPersonal:C,fichar:y,desfichar:x,inputBusqueda:i,arrayTrabajadores:r,buscar:m,cerrarModal:p,abrirModal:f,apagarEquipo:P,nombre:e,id:c}},watch:{inputBusqueda:function(){this.inputBusqueda.length>=3&&this.buscar()}}},lt=(e("83ed"),e("d959")),dt=e.n(lt);const bt=dt()(it,[["render",$],["__scopeId","data-v-b85a42e2"]]);a["default"]=bt},3747:function(t,a,e){},"83ed":function(t,a,e){"use strict";e("3747")}}]);
//# sourceMappingURL=chunk-5b8031a2.0adba22f.js.map